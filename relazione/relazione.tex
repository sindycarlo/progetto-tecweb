\documentclass[12pt]{article}
\usepackage{hyperref}
\usepackage{graphicx}
\usepackage[font=small,labelfont=bf]{caption}
\title{Progetto di fine corso}
\date{17/05/2016}
\author{Alessio Luca,Carlo Sindico}

\begin{document}
	\pagenumbering{arabic}
	
	\begin{titlepage}
		\newcommand{\HRule}{\rule{\linewidth}{0.5mm}}%linea orizzontale
		\center
		
		\textsc{\LARGE Universit\`a degli Studi di Padova}\\[1.5cm] 
		\textsc{\Large Laurea in Informatica}\\[0.5cm]
		\textsc{\large Corso di Tecnologie Web}\\[0.5cm]
		\textsc{\large Progetto di fine corso}\\[0.5cm]
		
		%----------------------------------------------------------------------------------------
		%	TITLE SECTION
		%----------------------------------------------------------------------------------------
		
		\HRule \\[0.4cm]
		{ \huge  2FORCHETTE}\\[0.3cm] 
		\HRule \\[0.4cm]
		
		
		%----------------------------------------------------------------------------------------
		%	AUTHOR SECTION
		%----------------------------------------------------------------------------------------
		
		\begin{minipage}{0.3\textwidth}
			\begin{flushleft} \large
				\emph{Studente:}\\
				Luca \textsc{Alessio} % Your name
			\end{flushleft}
		\end{minipage}
		~
		\begin{minipage}{0.3\textwidth}
			\begin{flushright} \large
				\emph{Matricola:} \\
				\textsc{1070690} % Supervisor's Name
			\end{flushright}
		\end{minipage}\\[2cm]
		
			\begin{minipage}{0.3\textwidth}
				\begin{flushleft} \large
					\emph{Studente:}\\
					Carlo \textsc{Sindico} % Your name
				\end{flushleft}
			\end{minipage}
			~
			\begin{minipage}{0.3\textwidth}
				\begin{flushright} \large
					\emph{Matricola:} \\
					\textsc{1069322} % Supervisor's Name
				\end{flushright}
			\end{minipage}\\[2cm]
			
		%----------------------------------------------------------------------------------------
		%	INFORMATION WEBSITE
		%----------------------------------------------------------------------------------------
		
		\textsc{\Large Informazioni sul sito:}\\[0.3cm]	
		\textsc{http://tecnologie-web.studenti.math.unipd.it/tecweb/~csindico/}\\[1cm]
		
		%----------------------------------------------------------------------------------------
		%	DATI LOGIN
		%----------------------------------------------------------------------------------------
		
			\textsc{\Large Dati login:}\\[0.3cm]
			\textsc{ Username:Admin}\\[0.1mm]
			\textsc{ Password:Admin}\\[0.1mm]
			
		\vfill
	\end{titlepage}
	
	\newpage
	\renewcommand{\contentsname}{Indice}
	\tableofcontents
	
	
	\newpage
	\pagenumbering{arabic}
	
	\section{Abstract}
	\begin{itemize}
		\item 2Forchette.it è un sito dedicato alla raccolta di ricette culinarie. 
		\item L'utenza che accede al sito ha la possibilità di visualizzare le ricette attualmente presenti ed eventualmente di proporne di nuove. Le ricette vengono suddivise in diverse categorie per facilitarne la consultazione e contengono dettagliate informazioni sulla loro preparazione.

		\item Per ogni ricetta vengono indicati una breve descrizione, la lista degli ingredienti, un'immagine rappresentativa, una spiegazione dettagliata del procedimento da seguire ed altri dati minori (quali tempo di preparazione, difficoltà, autore e numero di persone).

		\item La principale feature del sito è costituita dalla sezione "Proponi ricetta", dove appunto l'utente ha la possibilità di inserire una propria ricetta che verrà in seguito valutata dall'amministratore ed eventualmente ammessa nel sito.

		\item All'interno del sito l'utente ha inoltre le possibilità di ricercare ricette per nome (funzionalità disponibile in tutte le pagine tramite la barra di ricerca sull' header) e di lasciare eventuali commenti sul sito nella pagina dei contatti.

		\item Si è scelto di rendere la navigazione del sito più immediata possibile, ogni ricetta può essere infatti raggiunta con un massimo di 3 click (home -> categoria -> ricetta, ricerca -> ricetta) e il design del sito è minimale e responsive per garantire la massima usabilità.


		\item Per quanto riguarda la parte amministrativa, l'admin può accedere alla propria console dal link posto nel footer della home (login: admin password: admin), da questa area riservata sarà possibile la gestione delle ricette proposte dagli utenti (deciderne quindi l'accettazione o il rifiuto) e l'eventuale eliminazione di ricette ritenute obsolete o di commenti offensivi. Queste funzionalità sono presentate in modo semplice e correlate da una breve spiegazione.
	\end{itemize}


		\section{Utenti destinatari}
		\begin{itemize}
			\item Il target di riferimento di questo sito è molto ampio, un sito di cucina viene visitato solitamente da persone appartenenti a varie fasce d'età e con differenti bagagli culturali perciò è stato scelto di rendere il sito il più semplice ed intuitivo possibile, in particolare è stata posta molta attenzione all'accessibilità per utenti non vedenti (ma questo verrà approfondito in una sezione apposita). 

		\end{itemize}
		\section{Accessibilit\`a}
		\subsection{Separazione tra struttura,presentazione e comportamento}
		\begin{itemize}
			\item Per una maggiore accessibilit\'a al sito da parte di utenti disabili e per favorire gli algoritmi dei motori di ricerca si \'e deciso di separarare la struttura dalla presentazione e dal comportamento.
			Infatti il contenuto del sito \'e rapprentato dai file HTML e CGI, i quali richiamano i fogli di stile CSS e si utilizzano (anche in questo caso attraverso percorsi esterni),controlli in JavaScript in particolare per la compilazione dei form. 

			\item Il contenuto rimane accessibile anche se JavaScript \'e disabilitato. Infatti opportuni controlli in Perl ne verificano la validit\`a.

			\item Tutto il codice \'e stato scritto secondo le raccomandazioni W3C,con opportuna validazione di esso.
		\end{itemize}
			\subsection{Colori}
			\begin{itemize}
				\item Si \'e scelto uno schema di colori non particolarmente vivace (azzuro chiaro);Non sono colori di base, ma comunque la lettura dei testi risulta accessibile.Bisogna ricordare che si tratta di un sito di cucina e quindi l'utente si aspetta dei colori vivaci adatti al tipo di sito. 

				\item I link sono sempre sottolineati, e diventano di colore viola quando vengono cliccati.

				Di seguito sono riportate le visualizzazioni del sito attraverso alcuni disturbi visivi:

				MANCA...DOMANI
			\end{itemize}	
			
		
			\subsection{Tag meta}
			\begin{itemize}
				\item Sono stati inseriti per ogni pagina i tag meta:
				\subitem title
				\subitem description
				\subitem keywords
				\subitem language 
				\subitem author
				\subitem content-type

				\item Il tag title descrive la pagina corrente dal particolare al generale.
				\item Il tag description da una descrizione del contenuto del sito

				\item  il tag language indica che il sito \'e stato interamente scritto in italiano. 
			\end{itemize}
			\subsection{Screen reader}
			\begin{itemize}
				\item Ogni foto ha il suo attributo alt che descrive ci\'o che l'immagine ritrae.
				Si è evitato di utilizzare immagini per visualizzare il testo, quindi il contenuto informativo rimane accessibile anche quando fallisce il caricamento delle immagini o del CSS.
				\item Si \'e fornita particolare attenzione alle parole straniere che sono state segnalate agli screenreader attraverso il tag "span xml:lang=en" segnalando la lingua con cui leggere correttamente i vocaboli. 
				\item Inoltre \`e stato inserito un link skip nav per saltare direttamente al contenuto, quando viene premuto il tasto tab.
			\end{itemize}
			\section{Usabilit\`a}
			\begin{itemize}
				\item Per l'usabilit\`a del sito si è fatta attenzione ad inserire le 6W del giornalismo:
				
				\subitem What?: 
				Un utente appena entra nella home capisce subito che si tratta di un sito di ricette, dalla barra dei men\'u (Proponi ricetta, Cerca ricetta), e dal contenuto in primo piano che mette in evidenza alcune ricette proposte.
				
				\subitem Who?:
				 A chi \'e rivolto il sito? Il sito grazie alle immagini si capisce che \'e dedicato a mamme e pap\`a
				che vogliono preparare una gustosa ricetta per i propri figli.
				
				\subitem Where?: 
				Nonnostante il sito non abbia una propria locazione, gi\'a  nel footer di ogni pagina sono presenti informazioni riguardo gli amministratori e il sito.Per maggiore visibilit\`a, \'e stata inserita una pagina CONTATTACI dove oltre ala sezione commenti, sono specificati gli indirizzi email e numero di telefono degli amministratori. 
				
				When?: ..........
				
				\subitem Why?: 
				Perch\'e un utente dovrebbe rimanere nel sito o dovrebbe ritornarci? Il sito \'e principalmente espositivo,(gli utenti possono liberamente visualizzare le ricette), si \'e cercato di renderlo pi\'u interessante, aggiungendo una sezione proponi ricetta (l'utente ha la possibilit\'a di inserire la propria ricetta), e anche una sezione commenti.
				
				\subitem How?:
				 La barra di navigazione mostra tutte le sezioni principali del sito alle quali un utente pu\'o accedere.
				Nella barra men\'u \'e sempre evidenziata la voce della pagina in cui ci troviamo,e si vede attraverso una diversa colorazione dei link in quali altre pagine si \'e stati. 

				
				Breadcrumbs: Affinch\'e l'utente non si perda mai all'interno del sito, \'e stato riportato sotto la barra di navigazione, il percorso che si \'e effettuato dalla home page.
				
			\end{itemize}
			\section{Gerarchia dei file}
			\begin{itemize}
				\item I file del nostro sito sono organizzati su 3 cartelle:
				\item cgi-bin: cartella nella quale sono presenti i file .cgi con la libreria di supporto.
				\item data: in questa cartella sono contenuti i file xml ed i relativi XMLSchema.
				\item public-html: cartella nella quale sono presenti i file .html e le sotto-cartelle:
				➔ css: cartella contenente i file .css;
				➔ img: cartella contenente tutte le foto del sito;
				➔ js: cartella contenente i vari script realizzati in JavaScript.
			\end{itemize}
			\section{HTML}
			La struttura HTML del sito viene interamente "stampata" da vari file .cgi: questa scelta è dovuta alla grande presenza di contenuto dinamico all'interno del sito per cui non sono presenti file .html "puri" se non index.html che è però un semplice redirect a menu.cgi, file Perl che effettivamente stampa la homepage.

			\section{Struttura}
			\begin{itemize}
				\item Nella cartella public-html si trovano i file delle pagine statiche html.
				Le pagine web del progetto sono state realizzate interamente secondo lo standard XHTML 1.0 Strict. Di seguito sono elenate le pagine statiche del sito:
				\begin{itemize} \item index.html: \'e la pagina principale del sito, la Homepage.
					\end{itemize}
				
				\'E importante fare notare che la maggior parte delle pagine sono dinamiche scritte in Perl.(scelta che \'e stata fatta all'inizio).
				Nella cartella cgi-bin invece abbiamo le pagine dinamiche .cgi:
				\begin{itemize} \item proponiricetta.cgi: \'e la pagina nella quale l'utente ha la possibilit\'a di inviare la propria ricetta.
				\end{itemize}
				\begin{itemize} \item cercaricetta.cgi: \'e la pagina nella quale l'utente ha la possibilit\'a di cercare la ricetta che gli interessa.
				\end{itemize}
				\begin{itemize} \item contattaci.cgi: Sezione dedicata all'invio di commenti da parte dell'utente. Sono presenti anche informazioni su come contattare gli amministratori del sito.
				\end{itemize}
				\begin{itemize} \item Primo.cgi: \'e la pagina nella quale l'utente pu\'o sfogliare un elenco di ricette di primi piatti.
				\end{itemize}
				\begin{itemize} \item Secondi.cgi: \'e la pagina nella quale l'utente pu\'o sfogliare un elenco di ricette di secondi piatti.
				\end{itemize}
				\begin{itemize} \item Antipasti.cgi: \'e la pagina nella quale l'utente pu\'o sfogliare un elenco di ricette di Antipasti salati.
				\end{itemize}
				\begin{itemize} \item Dessert.cgi: \'e la pagina nella quale l'utente pu\'o sfogliare un elenco di ricette di Dessert prevalentemente ricette di dolci.
				\end{itemize}
				Fanno parte della cartella cgi-bin altri file che gestiscono la parte dinamica del sito, ad esempio l'invio della ricetta e il salvataggio dei dati nel file XML.
				
			\end{itemize}
			
			\section{Presentazione}
			\begin{itemize}
				\item Nella realizzazione dell'interfaccia grafica del sito è stato usato lo standard CSS3, allo stesso tempo si \'e fatta molta attenzione alla compatibilit\'a con browser pi\'u datati, e si \'e cercato di utilizzare un numero ristretto delle nuove funzionalit\'a offerte dallo standard.
				
				Alcune delle funzionalit\'a CSS3 che sono state utilizzate:
				Border-radius e Box shadow: per realizzare i pulsanti delle form , e per le immagini.
				(DA COMPLETARE!!)
				
			\end{itemize}
			\subsection{Divisione dei file}
			\begin{itemize}
				\item Nella cartella public-html/css sono presenti i seguenti fogli di stile:
				style.css: modella lo stile di visualizzazione del sito ia per gli utenti desktop (che hanno uno schermo largo al massimo 890px) che per gli utenti mobile con dispositivi con schermo piccolo (che hanno uno schermo largo massimo 330px) e dispositivi con dimensioni schermo intermedie (min-width=330px e max-width=550px).(DA RIVEDERE!)
				print.css: modella lo stile di stampa delle pagine del sito.(particolare attenzione si \'e data alla stampa delle pagine delle ricette).
				\end{itemize}
			\section{Comportamento}
			\begin{itemize}
				\item Nel programmare il sito si \'e cercato per quanto possibile di fornire all'utente semplicit\'a, cercando di essere il meno invasivi possibile, per dare una migliore usabilit\'a al sito oltre che una presentazione migliore.
				
				Si \'e fatto uso della tecnologia JavaScript e si \'e cercato di non usare framework o altre tecnologie pi\'u invasive.
				
				Javascript è stato utilizzato principalmente per il controllo degli input dei form. Nel sito sono presenti 3 differenti form, quello per il login nell'area amministrativa, un secondo per il submit dei commenti nella pagina dei contatti ed infine il più complesso nella sezione per la proposta di nuove ricette.
				Per quanto riguarda i primi due form (gestiti rispettivamente dai file controllo_login.js e valida_commento.js), una volta che l'utente clicca su "Submit" vengono analizzati in ordine di apparizione tutti i campi del form, se ne viene identificato uno vuoto allora l'invio viene bloccato e l'utente ne viene notificato da un messaggio d'errore specifico per quel campo.
				Per quanto riguarda il form "Proponi ricetta" invece (gestito dal file proponi_ricetta.js), oltre a questi controlli basilari ne viene effettuato un altro più approfondito nell'area di inserimento degli ingredienti. Dato che ogni ricetta presenta un numero di ingredienti sempre differente era impossibile prevedere un numero definito di campi per ciascun ingrediente nel form (in quanto sarebbero stati spesso insufficienti oppure troppo numerosi e comunque sgradevoli visivamente), per risolvere questo problema si è inizialmente pensato di realizzare un form dinamico che aggiungesse campi su richiesta dell'utente. Questa soluzione è stata però scartata per difficoltà tecniche nella realizzazione e principalmente per il fatto che non fosse accessibile agli screen reader. Si è optato quindi per lasciare la zona di inserimento degli ingredienti come una semplice area di testo all'interno della quale però vengono applicate delle regole per l'identificazione dei singoli ingredienti: dopo ogni ingrediente è necessario inserire il carattere di separazione ";" (punto e virgola senza virgolette) ed andare a capo. Se il testo inserito dall'utente rispetta questa sintassi l'input verrà accettato, altrimenti verrà fornito un messaggio d'errore. Nella pagina sono presenti delle istruzioni sull'utilizzo del form che spiegano anche l'appropriato inserimento degli ingredienti; riteniamo che la maggior parte degli utenti non trovi difficoltà ad usare questa sintassi che è inoltre pienamente accessibile ed utilizzabile da utenti non vedenti.
				
				Si è scelto di attivare questi controlli in reazione all'evento onsubmit, in quanto permette un
				fallback semplicissimo in caso JavaScript non sia supportato. Quindi tutte le funzioni ritornano il
				valore false se i controlli non sono superati e true se invece sono stati superati tutti i controlli.
				
				Le funzioni sono contenute nei file:
				\begin{itemize}
					\item proponiricetta.js, che esegue i controlli relativi ai campi, non effettua controlli sull'immagine in quanto la gestione di tale parte \'e affidata al Perl.
				\end{itemize}
				\begin{itemize}
					\item validacommento.js, che esegue controlli relativi ai campi, e scrive del testo di aiuto se sono sbagliati. Controlla che il formato mail sia valido, se inserita. Questo ultimo controllo non viene eseguito dal Perl, in quanto si tratta di un campo facoltativo e quindi un'email non corretta non genere alcun tipo di problema. 
				\end{itemize}
				\begin{itemize}
					\item logincontrol.js, che esegue i controlli sui campi e verifica che non siano vuoti.
				\end{itemize}	
			\end{itemize}
		
		\section{Gestione dei dati}
		\begin{itemize}
			\item Il sito presenta due tipi di contenuto che posso essere modificati.
			Tutti quanti possono scrivere commenti, e proporre ricette. Non \'e necessaria l'autenticazione per fare queste due operazioni, in quanto si \'e ritenuto che dover far registrare un utente solo per avere la possibilit\'a di inserire un commento o proporre una ricetta era una richiesta eccessiva, che impattava l'usabilit\'a e che sarebbe malvista dagli pubblico.D'altronde la ricetta che \'e proposta dall'utente non viene subito resa visibile, ma passa sotto il controllo dell'amministratore prima di essere pubblicata.
			Per i commenti il pubblico deve fornire un nome per identificarsi.
			
			
			Agli utenti autorizzati (l'amministratore del sito) \'e invece concessa la possibilit\'a di rimuovere oppure accettare le ricette proposte, e di rimuovere i commenti inappropriati. Si \'e scelto di non rendere possibili l'aggiunta di nuovi utenti,(DA RIVEDERE!!)
		\end{itemize}
		\subsection{XMLSchema}
		Sono presenti 3 file xml principali con i rispettivi xsd:

		\begin{itemize}
		\item  amministratore.xml - semplice file ausiliario per il controllo del corretto login nell'area amministrativa, contiene solamente due campi per il login e la password.
		\end{itemize}
		\begin{itemize}
		\item commenti.xml - contiene i commenti contenuti nella sezione contatti; dalla console amministrativa è possibile intervenire indirettamente sul file attuando operazioni di eliminazione
		\end{itemize}
		\begin{itemize}
		\item 4forchette.xml - cuore centrale del sistema, questo documento xml svolge la funzione di database per le ricette: anche qui l'amministratore può effettuare operazioni di eliminazione mentre l'inserimento è riservato all'utente (questo aspetto è esaminato nel dettaglio a pagina X)
		per quanto riguarda la parte xsd, sono stati usate bambole veneziane (????)
		\end{itemize}
			
		\subsection{XSLT}
			\begin{itemize}
				\item In fase di progettazione del sito si \'e scelto di non utilizzare XSLT, poich\'e si \'e trovato pi\'u pratico usare il Perl,(DA RIVEDERE!!) 
			\end{itemize}
			
			\section{Perl}
			\begin{itemize}
				\item Le pagine scritte in Perl si dividono principalmente in due tipologie: pagine "dinamiche" di rappresentazione e pagine di elaborazione dei dati.
				Alla prima tipologia appartengono i file .cgi che eseguono il "print" della pagina html con il contenuto richiesto (ne è un esempio la pagina page_template.cgi che si occupa della stampa a video di ogni ricetta) mentre le pagine della seconda tipologia sono solitamente "pagine di servizio" ovvero codice che esegue operazioni dietro le quinte come salvataggi ed eliminazioni di dati sui file xml. Nel dettaglio, questo è ciò di cui ciascun file si occupa:
				
				\begin{itemize} \item acceptricetta.cgi: che si occupa di pubblicare la ricetta nel sito.
				\end{itemize}
				
				\begin{itemize} \item controllologin.cgi: che si occupa di verificare se i campi del login sono corretti.
				\end{itemize}
				
				\begin{itemize} \item amministratorelogin.cgi: genera la pagina di login per l'amministratore.
				\end{itemize}
				
				\begin{itemize} \item deletericetta.cgi: che si occupa di eliminare una ricetta dal file XML.
				\end{itemize}
				
				\begin{itemize} \item handleproposta.cgi: che si occupa di inviare la ricetta (tutti i dati vengono prelevati dalla form proponiricetta.cgi) in un file XML temporaneo(DA RIVEDERE!!).
				\end{itemize}
				
				\begin{itemize} \item inseriscicommento.cgi: che si occupa di aggiungere un commento al file XML dedicato.
				\end{itemize}
				
				\begin{itemize} \item deletecommento.cgi: che si occupa di rimuovere un commento dal file XML (commentiricetta.xml).
				\end{itemize}
				
				\begin{itemize} \item pagetemplate.cgi: visualizza come pagina CGI tutte le ricette che vengono inserite.
				\end{itemize}
				(DA RIVEDERE!! mancano alcuni file)
				
			\end{itemize}
			
				
		
	
	
\end{document}